//Copyright timeanddate.com 2016, do not use without permission
(function e$$0(f,h,d){function e(b,p){if(!h[b]){if(!f[b]){var g="function"==typeof require&&require;if(!p&&g)return g(b,!0);if(c)return c(b,!0);g=Error("Cannot find module '"+b+"'");throw g.code="MODULE_NOT_FOUND",g;}g=h[b]={exports:{}};f[b][0].call(g.exports,function(c){var d=f[b][1][c];return e(d?d:c)},g,g.exports,e$$0,f,h,d)}return h[b].exports}for(var c="function"==typeof require&&require,b=0;b<d.length;b++)e(d[b]);return e})({1:[function(a,f,h){a=function(){this._MIME_TYPE="text/plain";this._IFRAME_ELEMENT_ID=
"js-txtDownloadFrame";this._DEFAULT_FILENAME="TimeAndDate.txt";this.saveFile=null;this._downloadAttributeSupport=!1;this._URL=this._saveBlob=this._saveAs=null;this.init()};a.prototype={init:function(){this._downloadAttributeSupport=this.getDownloadAttributeSupport;this._saveBlob=this.getSaveBlobFunction();this._saveAs=this.getSaveAsFunction();this._blob=this.getBlobConstructor();this._URL=this.getUrlConstructor();this._blob&&(this._saveAs||this._saveBlob)?this.saveFile=this._saveBlobHandler:this._downloadAttributeSupport&&
this._URL?this.saveFile=this._saveDownloadLinkHandler:/\bMSIE\b/.test(navigator.userAgent)?this.saveFile=this._saveIFrameHandler:this.saveFile=this._saveWindowOpenHandler},getBlobConstructor:function(){return window.Blob||null},getSaveBlobFunction:function(){return navigator.saveBlob||navigator.msSaveBlob||navigator.mozSaveBlob||navigator.webkitSaveBlob||null},getSaveAsFunction:function(){return window.saveAs||window.webkitSaveAs||window.mozSaveAs||window.msSaveAs||null},getUrlConstructor:function(){return window.URL||
window.webkitURL||window.mozURL||window.msURL||null},getDownloadAttributeSupport:function(){return"download"in document.createElement("a")},_saveBlobHandler:function(d,a){var c;c=new Blob([d],{type:this._MIME_TYPE});this._saveAs?this._saveAs(c,a||this._DEFAULT_FILENAME):navigator.msSaveBlob(c,a||this._DEFAULT_FILENAME)},_saveDownloadLinkHandler:function(d,a){var c=new this._blob([d],{type:this._MIME_TYPE}),b=document.createElement("a");b.href=URL.createObjectURL(c);b.download=a||this._DEFAULT_FILENAME;
document.body.appendChild(b);b.click();document.body.removeChild(b)},_saveWindowOpenHandler:function(a){window.open("data:"+this._MIME_TYPE+","+encodeURIComponent(a),"_blank","")},_saveIFrameHandler:function(a,e){var c=document.getElementById(this._IFRAME_ELEMENT_ID),c=c.contentWindow||c.contentDocument;c.document.open(this._MIME_TYPE,"replace");c.document.write(decodeURIComponent(a));c.document.close();c.focus();c.document.execCommand("SaveAs",!0,e||this._DEFAULT_FILENAME)}};f.exports=a},{}],2:[function(a,
f,h){h=a(8);a(4);a=a(6);new a;ko.applyBindings(h);f.exports=a},{4:4,6:6,8:8}],3:[function(a,f,h){function d(){}a(2);"complete"!==document.readyState&&(document.addEventListener?document.addEventListener("DOMContentLoaded",d,!1):document.attachEvent("onreadystatechange",d,!1))},{2:2}],4:[function(a,f,h){ko.extenders.numericTime=function(a,e){var c=ko.pureComputed({read:a,write:function(c){var b=a(),d=isNaN(c)||0>c?0:parseInt(+c),f=d;"m"===e||"s"===e?59<d&&(f=59):99<c&&(c=99);f!==b?a(f):c!==b&&a.notifySubscribers(f)}}).extend({notify:"always"});
c(a());return c}},{}],5:[function(a,f,h){f.exports={TEXTFILE_NAME:"Stopwatch",SPLITTIME_PLACEHOLDER:"SPLIT TIME",START_DEFAULT_LABEL:"Start",SPLIT_DEFAULT_LABEL:"Split",STOP_DEFAULT_LABEL:"Pause",TXT_LABEL_HEADER:"Label",TXT_INTERVAL_HEADER:"Interval",TXT_TOTAL_HEADER:"Total",TXT_RECORDED_HEADER:"Recorded",SOUND_NAME_BEEP:"Beep",SOUND_NAME_BEEP2:"Beep2",SOUND_NAME_TICK:"Tick",SOUND_NAME_TICK2:"Tick2",SOUND_NAME_ALARM:"Alarm",BLANK:""}},{}],6:[function(a,f,h){var d=a(8),e=a(12),c=a(10),b=a(13),g=a(17),
p=a(20),q=a(19),l=a(18),r=a(7),t=a(1),m=a(5),n=a(14);a=function(c,b){this._element=c;this._options=b;this._LISTITEM_START_CLASS="c-splitlist__record--start";this._LISTITEM_STOP_CLASS="c-splitlist__record--stop";this._LISTITEM_SPLIT_CLASS="c-splitlist__record--split";this._EXPORT_TXT_FILENAME=m.TEXTFILE_NAME+".txt";this._exporter=this._configManager=this._soundManager=this._splitTimeList=this._startStopButton=this._splitTimeLabel=this._mainTimeLabel=null;this._leadTime=ko.observable();this._leadTimeDisabled=
ko.observable(!0);this._isMainRunning=ko.observable(!1);this._isLeadRunning=ko.observable(!1);this._hasLeadFinished=ko.observable(!1);this._splitTimeSpan=null;this._leadIntervalId=this._updateIntervalId=this._remainingLeadTime=this._accumulatedLeadTimeInterval=this._lastTotalTimeInSeconds=this._accumulatedTotalTimeInterval=0;this._UPDATE_INTERVAL_TIME=25;this.init()};a.prototype={init:function(){this._registerComponents();this._registerCallback();this._registerToViewModel(d);this._registerHotKeys();
this._onConfigSave()},_registerComponents:function(){var c=new q(l);d.splits={};this._soundManager=new p(c,2);this._startStopButton=new b;this._mainTimeLabel=new n({extract:!0});this._splitTimeLabel=new n({placeholderText:m.SPLITTIME_PLACEHOLDER});this._splitTimeList=new g({viewModel:d.splits});this._configManager=new r({soundLibrary:c});this._exporter=new t},_registerCallback:function(){this._startStopButton.startCallback=this._onStart.bind(this);this._startStopButton.stopCallback=this._onStop.bind(this);
this._configManager.saveCallback=this._onConfigSave.bind(this);this._splitTimeList.beforeRemoveItem=this._beforeSplitRemove.bind(this);this._splitTimeList.afterRemoveItem=this._afterSplitRemove.bind(this)},_registerToViewModel:function(k){var b=this;k.isMainRunning=b._isMainRunning;k.isLeadRunning=b._isLeadRunning;k.isLeadDisabled=ko.computed(function(){return!b._configManager._leadEnabled()||b._hasLeadFinished()});k.leadTime=b._leadTime;k.formatTime=n.formatTime;k.formattedMainTime=b._mainTimeLabel.formattedTime;
k.mainTimeExtract=b._mainTimeLabel._timeExtract;k.formattedSplitTime=b._splitTimeLabel.formattedTime;k.formatActualDate=n.formatActualDate;k.resolveItemClass=b._resolveItemClass.bind(b);k.exportText=b._onExportTextClick.bind(b);k.splitMainTime=b._splitMainTime.bind(b);k.resetMainTime=b._resetMainTime.bind(b);k.showConfig=b._onConfigButtonClick.bind(b);k.allowRemove=b._allowRemove.bind(b);k.getSplitIndex=b._getSplitIndex.bind(b);k.inFullScreenMode=ko.observable(!1);k.toggleFullScreenMode=function(){this.inFullScreenMode(!this.inFullScreenMode())}.bind(k);
k.winWidth=ko.observable(b._getFullScreenFontRatio());k.isEditingLabel=ko.computed(function(){return!!ko.utils.arrayFirst(b._splitTimeList.getCollection(),function(b){return b.hasFocus()})},b);k.splitItems=ko.computed(function(){return ko.utils.arrayFilter(b._splitTimeList.getCollection(),function(b){return b.getType()!==c.type.START})},b);k.getTotalTime=function(b){return this._getTotalTime(this._splitTimeList.getCollectionObservable().indexOf(b))}.bind(b);ael(window,"resize",function(){this.winWidth(b._getFullScreenFontRatio())}.bind(k))},
_getFullScreenFontRatio:function(){var b=630;document.body&&document.body.offsetWidth&&(b=document.body.offsetWidth);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(b=document.documentElement.offsetWidth);window.innerWidth&&window.innerHeight&&(b=window.innerWidth);return b/6.5},_registerHotKeys:function(){var b=this;ael(document,"keydown",function(c){c=c?c:window.event;c=c.which||c.keyCode;d.isEditingLabel()||(109===c?b._startStopButton._onClickHandler():
107===c?b._splitMainTime():106===c&&b._resetMainTime())}.bind(b))},_onStart:function(){this._configManager.getLeadEnabled()&&!this._hasLeadFinished()?this._startLeadTime():this._startMainTime()},_onStop:function(){this._isLeadRunning()?this._stopLeadTime():this._stopMainTime()},_stopLeadTime:function(){clearInterval(this._leadIntervalId);this._accumulatedLeadTimeInterval=this._remainingLeadTime},_startMainTime:function(){var b=this,a,d=dt();a=null!==b._splitTimeSpan?b._splitTimeSpan.getEndTime():
d;b._splitTimeSpan=new e(a,d);b._splitTimeList.addItem(b._createSplitTime(c.type.START,m.START_DEFAULT_LABEL));b._splitTimeSpan=new e(d);b._isMainRunning(!0);b._isLeadRunning(!1);b._hasLeadFinished(!0);b._updateIntervalId=setInterval(function(){b._update()},b._UPDATE_INTERVAL_TIME)},_startLeadTime:function(){var b=this,c=b._configManager.getLeadTime(),a=b._configManager.getLeadBeepsEnabled(),d=dt(),e,g,l=null;if(!b._isLeadRunning()||b._hasLeadFinished())b._accumulatedLeadTimeInterval=c,b._remainingLeadTime=
0;b._leadIntervalId=setInterval(function(){e=dt()-d;b._remainingLeadTime=b._accumulatedLeadTimeInterval-e;g=b._zeroRightDigits(b._remainingLeadTime,3)+1E3;g!==l&&(a&&null!==l&&b._soundManager.play(1,b._configManager.getLeadBeepsSound()),l=g,b._updateLeadTime(l));0>b._remainingLeadTime&&(clearInterval(b._leadIntervalId),b._leadIntervalId=0,b._setLeadTimeDisabled(!0),b._startMainTime())},b._UPDATE_INTERVAL_TIME);b._isLeadRunning(!0)},_stopMainTime:function(){var b;b=dt();this._isMainRunning(!1);clearInterval(this._updateIntervalId);
null!==this._splitTimeSpan&&(this._splitTimeSpan.setEndTime(b),b=this._splitTimeSpan.getIntervalTime(),this._updateUi(b),this._accumulatedTotalTimeInterval=this._getTotalTime()+b,this._splitTimeList.addItem(this._createSplitTime(c.type.STOP,m.STOP_DEFAULT_LABEL)))},_splitMainTime:function(){var b=dt();this._isMainRunning()&&(this._splitTimeSpan.setEndTime(b),this._accumulatedTotalTimeInterval=this._getTotalTime()+this._splitTimeSpan.getIntervalTime(),this._splitTimeList.addItem(this._createSplitTime(c.type.SPLIT,
m.SPLIT_DEFAULT_LABEL)),this._splitTimeSpan=new e(b))},_update:function(){var b=dt(),c;this._isMainRunning()&&(this._splitTimeSpan.setEndTime(b),c=this._splitTimeSpan.getIntervalTime(),b=this._accumulatedTotalTimeInterval+c,this._updateUi(c),c=this._zeroRightDigits(b,3),c!==this._lastTotalTimeInSeconds&&(this._lastTotalTimeInSeconds=c,this._configManager.getOnceAlarmEnabled()&&this._configManager._onceAlarmList.checkAlarms(c),this._configManager.getIntervalBeepEnabled()&&999<b&&0===c%this._configManager.getIntervalBeepTimestamp()&&
this._soundManager.play(0,this._configManager.getIntervalBeepSound())))},_updateUi:function(b){b=b||0;this._splitTimeLabel.update(b);this._mainTimeLabel.update(this._accumulatedTotalTimeInterval+b)},_updateLeadTime:function(b){this._leadTime("-"+b/1E3)},_setLeadTimeDisabled:function(b){this._leadTimeDisabled(b||this._hasLeadFinished())},_resetLeadTime:function(){this._isLeadRunning(!1);this._hasLeadFinished(!1);this._updateLeadTime(this._configManager.getLeadTime());this._setLeadTimeDisabled(!this._configManager.getLeadEnabled())},
_resetMainTime:function(){this._isMainRunning()||this._isLeadRunning()||(this._startStopButton.setToggled(!1),this._accumulatedTotalTimeInterval=0,this._mainTimeLabel.reset(),this._splitTimeLabel.reset(),this._resetLeadTime(),this._splitTimeSpan=null,this._splitTimeList.removeAll())},_createSplitTime:function(b,a){var d=new c(b,a,this._splitTimeSpan,this._accumulatedTotalTimeInterval,TO.dt());d.hasFocus=ko.observable(!1);return d},_getTotalTime:function(b){var a=0,d=this._splitTimeList.getCollection(),
e=this._splitTimeList.getCollectionCount();if(void 0===b||b>e-1)b=this._splitTimeList.getCollectionCount()-1;for(e=0;e<=b;e++)d[e].getType()!==c.type.START&&(a+=d[e].getIntervalTime());return a},_onConfigButtonClick:function(){this._configManager.open()},_zeroRightDigits:function(b,c){var a=Math.pow(10,c);return Mf(b/a)*a},_beforeSplitRemove:function(b,a,d,e){var g=!0,l,f=d[a+1];if(void 0!==f&&b.getType()!==c.type.START&&(f.setInitialTime(b.getInitialTime()),f.setTotalTime(this._getTotalTime(a-1)+
f.getIntervalTime()),f.getType()===c.type.START)){try{l=d[a+2],l.setInitialTime(f.getInitialTime()),l.setTotalTime(this._getTotalTime(a-1)+l.getIntervalTime())}catch(u){g=!1}e.removeItem(f)}this._isMainRunning()&&b.getType()===c.type.SPLIT&&this._splitTimeSpan.setInitialTime(b.getInitialTime());return g},_afterSplitRemove:function(b){b=b[b.length-1].getIntervalTime();this._accumulatedTotalTimeInterval=this._getTotalTime();this._splitTimeLabel.update(b);this._mainTimeLabel.update(this._accumulatedTotalTimeInterval)},
_onConfigSave:function(){this._isLeadRunning()||this._updateLeadTime(this._configManager.getLeadTime());this._setLeadTimeDisabled(!this._configManager.getLeadEnabled())},saveText:function(){var b=this._splitTimeList.getCollection(),a=this._splitTimeList.getCollectionCount(),d="",e="#\t"+m.TXT_LABEL_HEADER+"\t"+m.TXT_INTERVAL_HEADER+"\t"+m.TXT_TOTAL_HEADER+"\t"+m.TXT_RECORDED_HEADER+"\r\n";if(0<a){for(var g=0;g<a;g++)d+=this._getSplitIndex(b[g])+"\t"+b[g].getLabel()+"\t"+(b[g].getType()===c.type.START?
"---":n.formatTime(b[g].getIntervalTime(),!1))+"\t"+(b[g].getType()===c.type.START?"---":n.formatTime(b[g].getTotalTime(),!1))+"\t"+n.formatActualDate(b[g].getActualDate())+"\r\n";this._exporter.saveFile(e+d,this._EXPORT_TXT_FILENAME)}},_onExportTextClick:function(){this.saveText()},_resolveItemClass:function(b){var a;switch(b){case c.type.START:a=this._LISTITEM_START_CLASS;break;case c.type.SPLIT:a=this._LISTITEM_SPLIT_CLASS;break;case c.type.STOP:a=this._LISTITEM_STOP_CLASS}return a},_allowRemove:function(b){return b.getType()!==
c.type.START&&(this._splitTimeList.getCollectionCount()!==this._splitTimeList._itemCollection.indexOf(b)+1||this._isMainRunning()&&b.getType()===c.type.SPLIT)},_getSplitIndex:function(b){for(var c=d.splitItems(),a=-1,e=0;e<c.length;e++)if(c[e]===b){a=e;break}return-1===a?"":(a+1).toString()}};f.exports=a},{1:1,10:10,12:12,13:13,14:14,17:17,18:18,19:19,20:20,5:5,7:7,8:8}],7:[function(a,f,h){var d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&
"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},e=a(9),c=a(15),b=a(11),g=a(20),p=a(21),q=a(8);a=function(b){this._options=b;this._soundLibrary=b.soundLibrary;this._localStorage=this._onceAlarmList=this._soundManager=null;this._open=ko.observable(!1);this._leadTime=ko.observable();this._leadEnabled=ko.observable();this._leadBeepsSound=ko.observable();this._leadBeepsEnabled=ko.observable();this._intervalBeepEnabled=ko.observable();this._everyAlarmInput=ko.observable();
this._onceAlarmEnabled=ko.observable();this._reverseList=ko.observable(!1);this._localStorageConfigAttribute="swconfig";this.init()};a.prototype={init:function(){this._soundManager=new g(this._soundLibrary,2);q.alarms={};this._onceAlarmList=new c({viewModel:q.alarms,soundManager:this._soundManager,channelToPlay:1,checkMode:"once"});this._everyAlarmInput(new e(0,this._soundManager.getLibrary().getFirst()));this.setConfig(new b);this._registerToViewModel(q);this._localStorage=p.getLocalStorage();this.getConfigStorage()},
_registerToViewModel:function(b){b.config={open:this._open,reverseList:this._reverseList,leadTime:this._leadTime,leadEnabled:this._leadEnabled,leadBeepsSound:this._leadBeepsSound,leadBeepsEnabled:this._leadBeepsEnabled,intervalBeepEnabled:this._intervalBeepEnabled,onceAlarmEnabled:this._onceAlarmEnabled,everyAlarmInput:this._everyAlarmInput,addOnceAlarm:this._addOnceAlarm.bind(this),sounds:ko.observableArray(this._soundLibrary.getSounds()),testSound:this._onSoundTestClick.bind(this),save:this._onSaveClick.bind(this),
toggleReverseList:this._toggleReverseList.bind(this)}},open:function(){this._open(!0)},getLeadEnabled:function(){return this._leadEnabled()},getLeadTime:function(){return 1E3*this._leadTime()},getLeadBeepsEnabled:function(){return this._leadBeepsEnabled()},getLeadBeepsSound:function(){return this._leadBeepsSound()},getIntervalBeepEnabled:function(){return this._intervalBeepEnabled()},getIntervalBeepTimestamp:function(){return this._everyAlarmInput().getTimestamp()},getIntervalBeepSound:function(){return this._everyAlarmInput().getSound()},
getOnceAlarmEnabled:function(){return this._onceAlarmEnabled()},_toggleReverseList:function(){this._reverseList(!this._reverseList())},_onSaveClick:function(){this._open(!1);this.setConfigStorage();this.saveCallback()},saveCallback:function(){return!1},_onSoundTestClick:function(b){"object"===d(b[0])&&(b=b[0]);this._soundManager.play(0,b)},_addOnceAlarm:function(){this._onceAlarmList.add(0,this._soundManager.getLibrary().getFirst())},setConfig:function(b){var c=this;c._reverseList(b._reverseList);
c._leadTime(b._leadTime);c._leadEnabled(b._leadEnabled);c._leadBeepsSound(c._soundManager.getLibrary().getSoundByName(b._leadBeepsSoundName));c._leadBeepsEnabled(b._leadBeepsSoundEnabled);c._intervalBeepEnabled(b._intervalBeepEnabled);c._everyAlarmInput().setSound(c._soundManager.getLibrary().getSoundByName(b._intervalBeepSoundName));c._everyAlarmInput().setTimestamp(b._intervalBeepTimestamp);c._onceAlarmEnabled(b._onceAlarmEnabled);c._onceAlarmList.setCollection(function(){var a=[];if(b._onceAlarmList)for(var d=
0;d<b._onceAlarmList.length;d++)a.push(new e(1E3*b._onceAlarmList[d].ts,c._soundManager.getLibrary().getSoundByName(b._onceAlarmList[d].sd)));return a}())},getConfigStorage:function(){var c,a;this._localStorage&&"undefined"!==typeof JSON&&(c=JSON.parse(this._localStorage.getItem(this._localStorageConfigAttribute)))&&(a=new b,a._reverseList=!!c.rl,a._leadEnabled=!!c.le,a._leadTime=c.lt,a._leadBeepsSoundEnabled=!!c.lse,a._leadBeepsSoundName=c.ls,a._intervalBeepEnabled=!!c.ie,a._intervalBeepTimestamp=
c.it,a._intervalBeepSoundName=c.is,a._onceAlarmEnabled=c.oae,a._onceAlarmList=c.oal||[],this.setConfig(a))},setConfigStorage:function(){var b=this,c;b._localStorage&&"undefined"!==typeof JSON&&(c=JSON.stringify({rl:+b._reverseList(),le:+b._leadEnabled(),lt:b._leadTime(),lse:+b._leadBeepsEnabled(),ls:b.getLeadBeepsSound().name,ie:+b._intervalBeepEnabled(),it:b._everyAlarmInput().getTimestamp(),is:b._everyAlarmInput().getSound().name,oae:b._onceAlarmEnabled(),oal:function(){for(var c=[],a=b._onceAlarmList.getCollection(),
d=0;d<b._onceAlarmList.getCollectionCount();d++)c.push({ts:a[d].getTimestamp()/1E3,sd:a[d].getSound().name});return c}()}),b._localStorage.setItem(b._localStorageConfigAttribute,c))}};f.exports=a},{11:11,15:15,20:20,21:21,8:8,9:9}],8:[function(a,f,h){a={};window.vm?a=window.vm:window.vm=a;f.exports=a},{}],9:[function(a,f,h){a=function e(c,b){var a=this;a.hours=ko.observable(0).extend({numericTime:"h"});a.minutes=ko.observable(0).extend({numericTime:"m"});a.seconds=ko.observable(0).extend({numericTime:"s"});
a.sound=ko.observable(b);a.timestamp=ko.pureComputed({read:function(){return e.hmsToTimestamp(a.hours(),a.minutes(),a.seconds())},write:function(b){b=e.timestampToHMS(b);a.hours(b.hour);a.minutes(b.minute);a.seconds(b.second)},owner:a});a.init(c)};a.prototype={init:function(a){this.setTimestamp(a||0)},getTimestamp:function(){return this.timestamp()},setTimestamp:function(a){this.timestamp(a)},getSound:function(){return this.sound()},setSound:function(a){this.sound(a)}};a.timestampToHMS=function(a){a=
new Date(a);return{hour:a.getUTCHours()+24*(a.getUTCDate()-1),minute:a.getUTCMinutes(),second:a.getUTCSeconds()}};a.hmsToTimestamp=function(a,c,b){c=c||0;b=b||0;a=parseInt(a||0);return 1E3*(3600*(99<a?99:a)+60*parseInt(c)+parseInt(b))};f.exports=a},{}],10:[function(a,f,h){a=function(a,e,c,b,g){this._type=ko.observable(a);this._label=ko.observable(e);this._timeSpan=ko.observable(c);this._totalTime=ko.observable(b);this._actualDate=ko.observable(g)};a.type={START:"start",STOP:"stop",SPLIT:"split"};
a.prototype={getType:function(){return this._type()},setType:function(a){this._type(a)},getLabel:function(){return this._label()},setLabel:function(a){this._label(a)},getInitialTime:function(){return this._timeSpan().getInitialTime()},setInitialTime:function(a){this._timeSpan().setInitialTime(a)},getEndTime:function(){return this._timeSpan().getEndTime()},setEndTime:function(a){this._timeSpan().setEndTime(a)},getIntervalTime:function(){return this._timeSpan().getIntervalTime()},setIntervalTime:function(a){this._timeSpan().setIntervalTime(a)},
getTotalTime:function(){return this._totalTime()},setTotalTime:function(a){this._totalTime(a)},getActualDate:function(){return this._actualDate()},setActualDate:function(a){this._actualDate(a)}};f.exports=a},{}],11:[function(a,f,h){f.exports=function(){this._leadEnabled=this._reverseList=!1;this._leadTime=3;this._leadBeepsSoundEnabled=!1;this._leadBeepsSoundName="";this._intervalBeepEnabled=!1;this._intervalBeepTimestamp=0;this._intervalBeepSoundName="";this._onceAlarmEnabled=!1;this._onceAlarmsList=
[]}},{}],12:[function(a,f,h){a=function(a,e,c){this._initialTime=ko.observable(a);this._endTime=ko.observable(e);this._timeInterval=ko.observable(c);this._init()};a.prototype={_init:function(){void 0!==this.getInitialTime()&&void 0!==this.getEndTime()&&this.setIntervalTime(this.calcIntervalTime())},getInitialTime:function(){return this._initialTime()},setInitialTime:function(a){this._initialTime(a);this._endTime()&&this._timeInterval(this.calcIntervalTime())},getEndTime:function(){return this._endTime()},
setEndTime:function(a){this._endTime(a);this._timeInterval(this.calcIntervalTime())},getIntervalTime:function(){return this._timeInterval()},setIntervalTime:function(a){this._timeInterval(a)},calcIntervalTime:function(){return this._endTime()-this._initialTime()}};f.exports=a},{}],13:[function(a,f,h){var d=a(8);a=function(){this._isOn=ko.observable(!1);this.init()};a.prototype={init:function(){this._registerToViewModel(d)},_registerToViewModel:function(a){a.startStopButton={startStop:this._onClickHandler.bind(this),
isOn:this._isOn}},_onClickHandler:function(){this.setToggled(!this._isOn())},getToggled:function(){return this._isOn()},setToggled:function(a){a?this.startCallback():this.stopCallback();this._isOn(a)},startCallback:function(){},stopCallback:function(){}};f.exports=a},{8:8}],14:[function(a,f,h){a=function e(a){var b=this;b._options=a;b._time=ko.observable(0);b._timeExtract=ko.observable("00");b._extract=ko.observable(!1);b._format=null;b._placeholderText=null;b.formattedTime=ko.computed(function(){return b._time()===
b._placeholderText?b._placeholderText:e.formatTime(b._time(),b._extract())});b.init()};a.prototype={init:function(){this._processOptions()},_processOptions:function(){"undefined"!==typeof this._options&&("undefined"!==typeof this._options.format&&(this._format=this._options.format),"undefined"!==typeof this._options.time&&this.setTime(this._options.time),"undefined"!==typeof this._options.placeholderText&&(this._placeholderText=this._options.placeholderText,this.setTime(this._placeholderText)),"undefined"!==
typeof this._options.extract&&this._extract(!!this._options.extract))},getTime:function(){return this._time()||0},setTime:function(a){this._time(a)},getTimeExtract:function(){return this._timeExtract()},setTimeExtract:function(a){this._timeExtract(p2(a%100))},update:function(a){"undefined"!==typeof a&&(this.setTime(a),this.setTimeExtract(a))},reset:function(){this.update(this._placeholderText||0)}};a.formatTime=function(a,c){var b=new Date(isNaN(a)?0:a),e=c?Mf(b.getUTCMilliseconds()/100%10):pf(b.getUTCMilliseconds(),
3),f=24*(b.getUTCDate()-1)+b.getUTCHours();return p2(f)+":"+p2(b.getUTCMinutes())+":"+p2(b.getUTCSeconds())+"."+e};a.formatActualDate=function(a){return cks.timelog.f(new Date(a||0))};f.exports=a},{}],15:[function(a,f,h){function d(b){this._soundManager=b.soundManager;this._channelToPlay=b.channelToPlay;this._checkMode=b.checkMode||"once";this._hasToPlay="once"===this._checkMode?this._playOnceStrategy:this._playEveryStrategy;c.apply(this,arguments)}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},c=a(16),b=a(9);d.prototype=new c({extending:!0});d.prototype.add=function(a,c){var d=new b(a,c);this.addItem(d)};d.prototype.checkAlarms=function(b){for(var a=this.getCollection(),c=0;c<a.length;c++)this._hasToPlay(b,a[c].getTimestamp())&&this._playAlarm(a[c])};d.prototype._playOnceStrategy=function(b,a){return b===a};d.prototype._playEveryStrategy=function(b,
a){return 0===b%a};d.prototype._playAlarm=function(b){b=b.getSound();"object"===e(b[0])&&(b=b[0]);this._soundManager.play(this._channelToPlay,b)};f.exports=d},{16:16,9:9}],16:[function(a,f,h){a=function(a){this._options=a||{};this._itemCollection=ko.observableArray();this._viewModel={};this._options.extending||this.init()};a.prototype={init:function(){this._processOptions(this._options);this._registerToViewModel(this._viewModel)},_processOptions:function(a){"undefined"!==typeof a&&"undefined"!==typeof a.viewModel&&
null!==a.viewModel&&(this._viewModel=a.viewModel)},_registerToViewModel:function(a){a.list=this._itemCollection;a.removeItem=this.removeItem.bind(this)},getCollection:function(){return this._itemCollection()},setCollection:function(a){this._itemCollection(a)},getCollectionObservable:function(){return this._itemCollection},getCollectionCount:function(){return this.getCollection().length},addItem:function(a){this._itemCollection.push(a)},beforeRemoveItem:function(a,e,c,b){return!0},afterRemoveItem:function(){},
removeItem:function(a){var d=this._itemCollection,c=d.indexOf(a);if(!this.beforeRemoveItem(a,c,d(),this))return!1;d.remove(a);this.afterRemoveItem(d(),this)},removeAll:function(){this._itemCollection.removeAll()}};f.exports=a},{}],17:[function(a,f,h){function d(b){this._options=b;this._detailsVisible=ko.observable(!1);e.apply(this,arguments);this._init()}var e=a(16);a(10);var c=a(8);d.prototype=new e({extending:!0});d.prototype._init=function(){this.init();c.detailsVisible=this._detailsVisible;c.toggleDetailsVisible=
this.toggleDetailsVisible.bind(this)};d.prototype.toggleDetailsVisible=function(){this._detailsVisible(!this._detailsVisible())};f.exports=d},{10:10,16:16,8:8}],18:[function(a,f,h){a=a(5);f.exports=[{name:a.SOUND_NAME_BEEP,mp3:"beep-6.mp3",ogg:"beep-6.ogg"},{name:a.SOUND_NAME_BEEP2,ogg:"Beep_1a.ogg",mp3:"Beep_1a.mp3"},{name:a.SOUND_NAME_TICK,ogg:"Tick_1a.ogg",mp3:"Tick_1a.mp3"},{name:a.SOUND_NAME_TICK2,ogg:"Tick_2a.ogg",mp3:"Tick_2a.mp3"},{name:a.SOUND_NAME_ALARM,mp3:"telephone.mp3",ogg:"telephone.ogg"}]},
{5:5}],19:[function(a,f,h){a(5);a=function(a){this._sounds=a};a.prototype={getSounds:function(){return this._sounds},_getSoundIndex:function(a){var d=-1;if("undefined"===typeof a||null===a)return 0;for(var c=0;c<this._sounds.length;c++)if(this._sounds[c].name===a.name){d=c;break}return d},getSoundByName:function(a){for(var d=0;d<this._sounds.length;d++)if(this._sounds[d].name===a)return this._sounds[d];return null},getFirst:function(){return this._sounds[0]}};f.exports=a},{5:5}],20:[function(a,f,
h){var d=a(8),e=function(a,b,d){this._soundLibrary=this._flashElement=this._audioElement=null;this._sfxPath="/sfx/";this._FLASH_ELEMENT_ID="flashAudioManager";this._support={};this._soundChannels=[];this._loadedSounds=[];this._numSoundChannels=4;this.init(a,b,d)};e.codecNames={ogg:'audio/ogg; codecs="vorbis"',mp3:"audio/mpeg;",wav:'audio/wav; codecs="1"',m4a:"audio/x-m4a;",acc:"audio/aac;"};e.prototype={init:function(a,b,e){void 0!==b&&(this._numSoundChannels=b);void 0!==e&&(this._sfxPath=e);this._soundLibrary=
a;this._support=this.getBrowserSupport();this._processLibrary(this._soundLibrary.getSounds());this._support.html5.isAvailable?(this._soundChannels=this._createSoundChannels(this._numSoundChannels),this.play=this._playHtml5AudioStrategy,this.stop=this._stopHtml5AudioStrategy):this._support.flash.isAvailable&&(this.play=this._playFlashAudioStrategy,this.stop=this._stopFlashAudioStrategy);this._registerToViewModel(d)},_registerToViewModel:function(a){a.hasSoundSupport=ko.observable(this._support.html5.isAvailable||
this._support.flash.isAvailable)},getBrowserSupport:function(a,b){this._flashElement=gf(this._FLASH_ELEMENT_ID);return{html5:this.getHtml5Support(a||cE("audio")),flash:{isAvailable:!(!b&&!this._flashElement)}}},getHtml5Support:function(a){var b=!!a.canPlayType;return b=b?{isAvailable:!0,mp3:a.canPlayType(e.codecNames.mp3),ogg:a.canPlayType(e.codecNames.ogg),wav:a.canPlayType(e.codecNames.wav),m4a:a.canPlayType(e.codecNames.m4a)||a.canPlayType(e.codecNames.acc)}:{isAvailable:!1}},getFileToPlay:function(a){var b=
null,c=this._support.flash.isAvailable;this._support.html5.isAvailable?this._support.html5.mp3&&"undefined"!==typeof a.mp3?b=a.mp3:this._support.html5.ogg&&"undefined"!==typeof a.ogg?b=a.ogg:this._support.html5.m4a&&"undefined"!==typeof a.m4a&&(b=a.m4a):c&&"undefined"!==typeof a.mp3&&(b=this._getFlashIdFromEmbed(a.mp3));return b},_createSoundChannels:function(a){var b=[];if(this._support.html5.isAvailable)for(void 0!==a&&(this._numSoundChannels=a),a=0;a<this._numSoundChannels;a++)b.push(new Audio);
return b},getSoundChannel:function(a){var b=null;try{b=this._soundChannels[a]}catch(g){}return b},getSound:function(a){var b=null;try{b=this._soundLibrary[a]}catch(g){}return b},getLibrary:function(){return this._soundLibrary},play:function(a,b){return!1},_playHtml5AudioStrategy:function(a,b){return this.loadSound(a,b)?(this.getSoundChannel(a).play(),!0):!1},_playFlashAudioStrategy:function(a,b){if(null!==b&&"undefined"!==typeof b&&this._flashElement&&this._flashElement.src){if("undefined"!==typeof b[0]&&
(b=b[0]),null===b.target||"undefined"===typeof b.target)b.target=this._getFlashIdFromEmbed(b.mp3)}else return!1;this._flashElement.pplay(b.target);return!0},stop:function(){return!1},_stopHtml5AudioStrategy:function(){for(var a=0;a<this._soundChannels.length;a++)this._soundChannels[a].pause()},_stopFlashAudioStrategy:function(){"function"===typeof this._flashElement.pause&&this._flashElement.pause()},loadSound:function(a,b){var c=!1,d=this.getSoundChannel(a);d&&null!==b&&null!==b.target&&"undefined"!==
typeof b.target&&(d.src!==this._sfxPath+b.target&&(d.src=this._sfxPath+b.target,d.load(),this._loadedSounds[a]=b),c=!0);return c},_processLibrary:function(a){for(var b=0;b<a.length;b++)a[b].target=this.getFileToPlay(a[b]);return a},_getFlashIdFromEmbed:function(a){return this._flashElement&&this._flashElement.src?this._flashElement.src(this._sfxPath+a):null}};f.exports=e},{8:8}],21:[function(a,f,h){f.exports={getLocalStorage:function(){var a;a:{var e=new Date,c,b;try{(c=window.localStorage).setItem(e,
e);b=c.getItem(e)==e;c.removeItem(e);a=b&&c;break a}catch(g){}a=void 0}return a}}},{}]},{},[3]);
